<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        ul {
            display: flex;
            padding-left: 0;
        }

        li {
            min-width: 100px;
            text-align: center;
            padding: 20px;
            list-style-type: none;
        }
    </style>
</head>
<body>


<form action="" id="form">

    <div class="field">
        <label for="menu_items" class="label">Menu items</label>
        <input type="text" name="items" id="menu_items" />
    </div>

    <div class="field">
        <label for="menu_color" class="label">Text color</label>
        <input type="color" name="items" id="menu_color" value="#403D58"/>
    </div>

    <div class="field">
        <label for="menu_bg_color" class="label">BG color</label>
        <input type="color" name="items" id="menu_bg_color" value="#66D7D1"/>
    </div>

    <div class="field">
        <label for="menu_hover" class="label">Item Hover</label>
        <input type="color" name="items" id="menu_hover" value="#FC7753"/>
    </div>

    <button class="button" type="submit">Create menu</button>

</form>

<ul class="menu"></ul>
<div class="images"></div>


</body>

<script>
    const formElement = document.getElementById('form'),
          button = document.querySelector('.button'),
          menuContainer = document.querySelector('.menu'),
          imageContainer = document.querySelector('.images');

    const makeHoverCss = function (value) {
        const css = 'li:hover{ color: ' + value + ' !important }';
        const style = document.createElement('style');

        if (style.styleSheet) {
            style.styleSheet.cssText = css;
        } else {
            style.appendChild(document.createTextNode(css));
        }

        document.getElementsByTagName('head')[0].appendChild(style);
    };

    const renderMenu = function (event) {
        let items = [];

        event.preventDefault();

        items = form.menu_items.value.split(', ');

        menuContainer.innerHTML = '';
        imageContainer.innerHTML = '';

        if ((items.length === 1 && items[0] === '') || !items.length) {
            return;
        }

        items.forEach(function (value) {
            let item = document.createElement('li');

            item.innerText = value;
            item.style.color = form.menu_color.value;
            item.style.backgroundColor = form.menu_bg_color.value;
            makeHoverCss(form.menu_hover.value);

            menuContainer.append(item);
        });

        document.querySelectorAll('.menu > li').forEach(function (value, key) {
            value.addEventListener('click', function () {
                let img = document.createElement('img');
                imageContainer.innerHTML = '';

                img.src = 'https://via.placeholder.com/250?text=This+is+' + key + '+image';

                imageContainer.append(img);
            });
        });
    };

    button.addEventListener('click', renderMenu);
    button.addEventListener('click', function(){
        button.innerHTML = 'Изменить меню';
        let removeBtn = document.createElement('button');
        removeBtn.innerHTML = 'Удалить';
        form.append(removeBtn);

    } );


</script>


</html>